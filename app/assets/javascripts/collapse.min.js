function collapse_init(){jQuery('.force_content_collapse').each(function(index){jQuery(this).css('display','none')});jQuery('.collapseomatic:not(.colomat-close)').each(function(index){var thisid=jQuery(this).attr('id');jQuery('#target-'+thisid).css('display','none')});jQuery('.collapseomatic.colomat-close').each(function(index){var thisid=jQuery(this).attr('id');if(jQuery("#swap-"+thisid).length>0){swapTitle(this,"#swap-"+thisid)}if(jQuery("#swapexcerpt-"+thisid).length>0){swapTitle("#excerpt-"+thisid,"#swapexcerpt-"+thisid)}})}function swapTitle(origObj,swapObj){var orightml=jQuery(origObj).html();var swaphtml=jQuery(swapObj).html();jQuery(origObj).html(swaphtml);jQuery(swapObj).html(orightml);if(swaphtml.indexOf("<cufon")!=-1){var trigelem=jQuery(this).get(0).tagName;Cufon.replace(trigelem)}}function closeOtherGroups(rel){jQuery('.collapseomatic[rel!="'+rel+'"]').each(function(index){if(jQuery(this).hasClass('colomat-expand-only')&&jQuery(this).hasClass('colomat-close')){return}if(jQuery(this).hasClass('colomat-close')&&jQuery(this).attr('rel')!==undefined){jQuery(this).removeClass('colomat-close');var id=jQuery(this).attr('id');jQuery('#parent-'+id).removeClass('colomat-parent-highlight');if(jQuery("#swap-"+id).length>0){swapTitle(this,"#swap-"+id)}if(jQuery("#swapexcerpt-"+id).length>0){swapTitle("#exerpt-"+id,"#swapexcerpt-"+id)}if(colomatslideEffect=='slideToggle'){jQuery('#target-'+id).slideToggle(colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}else if(colomatslideEffect=='slideFade'){jQuery('#target-'+id).animate({height:"toggle",opacity:"toggle"},colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}var ancestors=jQuery('.collapseomatic','#target-'+id);ancestors.each(function(index){jQuery(this).removeClass('colomat-close');var thisid=jQuery(this).attr('id');jQuery('#target-'+thisid).css('display','none')})}})}function closeOtherMembers(rel,id){jQuery('.collapseomatic[rel="'+rel+'"]').each(function(index){if(jQuery(this).hasClass('colomat-expand-only')&&jQuery(this).hasClass('colomat-close')){return}if(jQuery(this).attr('id')!=id&&jQuery(this).hasClass('colomat-close')&&jQuery(this).attr('rel')!==undefined){jQuery(this).removeClass('colomat-close');var thisid=jQuery(this).attr('id');jQuery('#parent-'+thisid).removeClass('colomat-parent-highlight');if(jQuery("#swap-"+thisid).length>0){swapTitle(this,"#swap-"+thisid)}if(jQuery("#swapexcerpt-"+thisid).length>0){swapTitle("#excerpt-"+thisid,"#swapexcerpt-"+thisid)}if(!jQuery(this).hasClass('colomat-close')&&jQuery(this).hasClass('snap-shut')){jQuery('#target-'+thisid).hide()}else if(colomatslideEffect=='slideToggle'){jQuery('#target-'+thisid).slideToggle(colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}else if(colomatslideEffect=='slideFade'){jQuery('#target-'+thisid).animate({height:"toggle",opacity:"toggle"},colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}var ancestors=jQuery('.collapseomatic','#target-'+id);ancestors.each(function(index){if(jQuery(this).hasClass('colomat-expand-only')&&jQuery(this).hasClass('colomat-close')){return}var pre_id=id.split('-');if(pre_id[0].indexOf('extra')!='-1'){pre=pre_id.splice(0,1);id=pre_id.join('-');if(jQuery(this).hasClass('scroll-to-trigger')){var target_offset=jQuery('#'+id).offset();offset_top=target_offset.top}if(jQuery('#'+id).hasClass('scroll-to-trigger')){offset_top=jQuery('#scrollonclose-'+id).attr('name')}jQuery('#'+id).toggleClass('colomat-close');jQuery('[id^=extra][id$='+id+']').toggleClass('colomat-close')}if(jQuery(this).attr('id').indexOf('bot-')=='-1'){jQuery(this).removeClass('colomat-close');var thisid=jQuery(this).attr('id');if(jQuery("#swap-"+thisid).length>0){swapTitle(this,"#swap-"+thisid)}if(jQuery("#swapexcerpt-"+thisid).length>0){swapTitle("#excerpt-"+thisid,"#swapexcerpt-"+thisid)}jQuery('#target-'+thisid).css('display','none')}})}})}jQuery(document).ready(function(){collapse_init();jQuery('.content_collapse_wrapper').each(function(index){jQuery(this).css('display','inline')});jQuery(document).on({mouseenter:function(){jQuery(this).addClass('colomat-hover')},mouseleave:function(){jQuery(this).removeClass('colomat-hover')}},'.collapseomatic');jQuery('.collapseomatic').on('click',function(event){var offset_top;if(jQuery(this).hasClass('colomat-expand-only')&&jQuery(this).hasClass('colomat-close')){return}var id=jQuery(this).attr('id');if(jQuery(this).hasClass('colomat-close')&&jQuery(this).hasClass('scroll-to-trigger')){offset_top=jQuery('#scrollonclose-'+id).attr('name')}var id_arr=id.split('-');if(id_arr[0].indexOf('extra')!='-1'){pre=id_arr.splice(0,1);id=id_arr.join('-');if(jQuery(this).hasClass('scroll-to-trigger')){var target_offset=jQuery('#'+id).offset();offset_top=target_offset.top}if(jQuery('#'+id).hasClass('scroll-to-trigger')){offset_top=jQuery('#scrollonclose-'+id).attr('name')}jQuery('#'+id).toggleClass('colomat-close');jQuery('[id^=extra][id$='+id+']').toggleClass('colomat-close')}else if(id.indexOf('bot-')!='-1'){id=id.substr(4);jQuery('#'+id).toggleClass('colomat-close');if(jQuery(this).hasClass('scroll-to-trigger')){var target_offset=jQuery('#'+id).offset();offset_top=target_offset.top}if(jQuery('#'+id).hasClass('scroll-to-trigger')){offset_top=jQuery('#scrollonclose-'+id).attr('name')}}else{jQuery(this).toggleClass('colomat-close');jQuery('[id^=extra][id$='+id+']').toggleClass('colomat-close')}if(jQuery("#swap-"+id).length>0){swapTitle(jQuery('#'+id),"#swap-"+id)}if(jQuery("#swapexcerpt-"+id).length>0){swapTitle("#excerpt-"+id,"#swapexcerpt-"+id)}jQuery(this).addClass('colomat-visited');var parentID='parent-'+id;jQuery('#'+parentID).toggleClass('colomat-parent-highlight');if(!jQuery(this).hasClass('colomat-close')&&jQuery(this).hasClass('snap-shut')){jQuery('#target-'+id).hide()}else if(colomatslideEffect=='slideToggle'){jQuery('#target-'+id).removeClass('maptastic');jQuery('#target-'+id).slideToggle(colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}if(jQuery('#'+id).hasClass('find-me')&&jQuery('#'+id).hasClass('colomat-close')){offset_top=jQuery('#find-'+id).attr('name');if(!offset_top){target_offset=jQuery('#'+id).offset();offset_top=target_offset.top}jQuery('html, body').animate({scrollTop:offset_top},500)}})}else if(colomatslideEffect=='slideFade'){jQuery('#target-'+id).removeClass('maptastic');jQuery('#target-'+id).animate({height:"toggle",opacity:"toggle"},colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}if(jQuery('#'+id).hasClass('find-me')&&jQuery('#'+id).hasClass('colomat-close')){offset_top=jQuery('#find-'+id).attr('name');if(!offset_top){target_offset=jQuery('#'+id).offset();offset_top=target_offset.top}jQuery('html, body').animate({scrollTop:offset_top},500)}})}if(jQuery(this).attr('rel')!==undefined){var rel=jQuery(this).attr('rel');if(rel.indexOf('-highlander')!='-1'){closeOtherMembers(rel,id)}else{closeOtherGroups(rel)}}if(offset_top){jQuery('html, body').animate({scrollTop:offset_top},500)}});jQuery('.expandall').on('click',function(event){if(jQuery(this).attr('rel')!==undefined){var rel=jQuery(this).attr('rel');jQuery('.collapseomatic[rel="'+rel+'"].collapseomatic:not(.colomat-close)').each(function(index){jQuery(this).addClass('colomat-close');var thisid=jQuery(this).attr('id');jQuery('#parent-'+thisid).addClass('colomat-parent-highlight');if(jQuery("#swap-"+thisid).length>0){swapTitle(this,"#swap-"+thisid)}if(jQuery("#swapexcerpt-"+thisid).length>0){swapTitle("#excerpt-"+thisid,"#swapexcerpt-"+thisid)}if(colomatslideEffect=='slideToggle'){jQuery('#target-'+thisid).slideToggle(colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}else if(colomatslideEffect=='slideFade'){jQuery('#target-'+thisid).animate({height:"toggle",opacity:"toggle"},colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}})}else{jQuery('.collapseomatic:not(.colomat-close)').each(function(index){jQuery(this).addClass('colomat-close');var thisid=jQuery(this).attr('id');jQuery('#parent-'+thisid).addClass('colomat-parent-highlight');if(jQuery("#swap-"+thisid).length>0){swapTitle(this,"#swap-"+thisid)}if(jQuery("#swapexcerpt-"+thisid).length>0){swapTitle("#excerpt-"+thisid,"#swapexcerpt-"+thisid)}if(colomatslideEffect=='slideToggle'){jQuery('#target-'+thisid).slideToggle(colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}else if(colomatslideEffect=='slideFade'){jQuery('#target-'+thisid).animate({height:"toggle",opacity:"toggle"},colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}})}});jQuery('.collapseall').on('click',function(event){if(jQuery(this).attr('rel')!==undefined){var rel=jQuery(this).attr('rel');jQuery('.collapseomatic[rel="'+rel+'"].collapseomatic.colomat-close').each(function(index){if(jQuery(this).hasClass('colomat-expand-only')&&jQuery(this).hasClass('colomat-close')){return}jQuery(this).removeClass('colomat-close');var thisid=jQuery(this).attr('id');jQuery('#parent-'+thisid).removeClass('colomat-parent-highlight');if(jQuery("#swap-"+thisid).length>0){swapTitle(this,"#swap-"+thisid)}if(jQuery("#swapexcerpt-"+thisid).length>0){swapTitle("#excerpt-"+thisid,"#swapexcerpt-"+thisid)}if(colomatslideEffect=='slideToggle'){jQuery('#target-'+thisid).slideToggle(colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}else if(colomatslideEffect=='slideFade'){jQuery('#target-'+thisid).animate({height:"toggle",opacity:"toggle"},colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}})}else{jQuery('.collapseomatic.colomat-close').each(function(index){if(jQuery(this).hasClass('colomat-expand-only')&&jQuery(this).hasClass('colomat-close')){return}jQuery(this).removeClass('colomat-close');var thisid=jQuery(this).attr('id');jQuery('#parent-'+thisid).removeClass('colomat-parent-highlight');if(jQuery("#swap-"+thisid).length>0){swapTitle(this,"#swap-"+thisid)}if(jQuery("#swapexcerpt-"+thisid).length>0){swapTitle("#excerpt-"+thisid,"#swapexcerpt-"+thisid)}if(colomatslideEffect=='slideToggle'){jQuery('#target-'+thisid).slideToggle(colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}else if(colomatslideEffect=='slideFade'){jQuery('#target-'+thisid).animate({height:"toggle",opacity:"toggle"},colomatduration,function(){if(jQuery(this).hasClass('colomat-inline')&&jQuery(this).is(':visible')){jQuery(this).css('display','inline')}})}})}});var myFile=document.location.toString();if(myFile.match('#')){var anchor_arr=myFile.split('#');if(anchor_arr.length>1){junk=anchor_arr.splice(0,1);anchor=anchor_arr.join('#')}else{anchor=anchor_arr[0]}jQuery('#'+anchor).click();jQuery('#'+anchor).parents('.collapseomatic_content, .collapseomatic_content_inline').each(function(index){parent_arr=jQuery(this).attr('id').split('-');junk=parent_arr.splice(0,1);parent=parent_arr.join('-');jQuery('#'+parent).click()})}jQuery('a.expandanchor').on('click',function(event){event.preventDefault();var fullurl=jQuery(this).attr('href');if(fullurl.match('#')){var anchor_arr=fullurl.split('#');if(anchor_arr.length>1){junk=anchor_arr.splice(0,1);anchor=anchor_arr.join('#')}else{anchor=anchor_arr[0]}if(!jQuery('#'+anchor).hasClass('colomat-close')){jQuery('#'+anchor).click()}jQuery('#'+anchor).parents('.collapseomatic_content, .collapseomatic_content_inline').each(function(index){parent_arr=jQuery(this).attr('id').split('-');junk=parent_arr.splice(0,1);parent=parent_arr.join('-');if(!jQuery('#'+parent).hasClass('colomat-close')){jQuery('#'+parent).click()}})}});jQuery('a.colomat-nolink').on('click',function(event){event.preventDefault()})});